---
import "../assets/global.css";

interface Props {
  title: string;
  slug: string;
  description?: string;
  dateCreated?: Date;
  dateUpdated?: Date;
}

const { title, slug, description, dateCreated, dateUpdated } = Astro.props;

// Ensure we have proper Date objects before calling toLocaleDateString
const formatDate = (date: Date | string | undefined) => {
  if (!date) return "";
  return date instanceof Date
    ? date.toLocaleDateString()
    : new Date(date).toLocaleDateString();
};
---

<div class="card">
  <div class="card-content">
    <h2 class="title">
      <a href="#" data-post-slug={slug} class="card-open-hero">{title}</a>
    </h2>
    {description && <p class="description">{description}</p>}
    {
      dateUpdated && (
        <p class="date-updated">Updated: {formatDate(dateUpdated)}</p>
      )
    }
  </div>
</div>
